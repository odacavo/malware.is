<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.0ce81142b8fd9d968f05.css" data-identity="gatsby-global-css">body{background-color:#08050e;color:#fff;font-family:IBM Plex Mono,monospace;font-size:16px}::selection{background:rgba(243,35,35,.747);color:#fff}::-moz-selection{background:rgba(243,35,35,.747);color:#fff}b{font-weight:700}i{font-style:italic}s{text-decoration:line-through}li{line-height:1.8em}img{display:block;margin:0 auto;max-width:100%}.mainContainer{border-bottom:1px dashed #ff1616;margin:0 10px}.mainContainer,blockquote{border-top:1px dashed #ff1616}blockquote{background-color:rgba(4,3,7,.9);border-bottom:1px solid #000;border-right:1px solid #000;font-style:italic;margin:20px 0;padding:20px}code{background-color:#0c1021;padding:6px}a,code{color:#ff1616}a{border-bottom:1px dashed #ff1616;text-decoration:none}a:hover{border-bottom:1px dashed #64ffe5;color:#64ffe5}input{background-color:rgba(4,3,7,.9);border:1px solid rgba(56,56,56,.9);color:#fff;display:block;font-family:IBM Plex Mono,monospace;font-size:1em;margin-bottom:20px;padding:5px}input:hover{border:1px solid rgba(77,77,77,.9)}input:focus{border:1px solid #ff1616;box-shadow:0 0 5px rgba(255,22,22,.5);outline:none!important}textarea{background-color:rgba(4,3,7,.9);border:1px solid rgba(56,56,56,.9);color:#fff;display:block;font-family:IBM Plex Mono,monospace;font-size:1em;margin-bottom:20px;padding:5px}textarea:hover{border:1px solid rgba(77,77,77,.9)}textarea:focus{border:1px solid #ff1616;box-shadow:0 0 5px rgba(255,22,22,.5);outline:none!important}button{background-color:rgba(4,3,7,.9);border:1px solid rgba(56,56,56,.9);color:#fff;display:block;font-family:IBM Plex Mono,monospace;font-size:1em;margin-bottom:20px;padding:5px}button:hover{border:1px solid rgba(77,77,77,.9)}button:focus{border:1px solid #ff1616;box-shadow:0 0 5px rgba(255,22,22,.5);outline:none!important}p{line-height:1.5em;margin-bottom:20px}.postImageCaption{color:hsla(0,0%,92%,.671);display:block;font-size:.95em;margin-bottom:30px;margin-top:5px;text-align:center}deckgo-highlight-code{margin-bottom:40px;margin-top:40px}@media only screen and (min-width:768px){.mainContainer{margin:0 auto;max-width:1024px}}.header-module--mainHeader--5zoMT{margin-bottom:40px;margin-top:20px;text-align:center}.header-module--mainLogo--ORTLO a{border:none;color:#fff;text-decoration:none}.header-module--mainHeader--5zoMT h1{margin:0 0 10px;padding:0}.header-module--mainHeader--5zoMT ul{list-style-type:none;margin:0;padding:0}.header-module--mainHeader--5zoMT li{display:inline-block;line-height:0px;margin-right:20px}.header-module--mainHeader--5zoMT li:last-child{margin-right:0}.header-module--navactive--GRPyj{border-bottom:1px dashed #64ffe5!important;color:#64ffe5!important}.header-module--blink--WGiq7{-webkit-animation:header-module--blink--WGiq7 1.2s linear infinite;animation:header-module--blink--WGiq7 1.2s linear infinite}@-webkit-keyframes header-module--blink--WGiq7{0%{color:#fff}49%{color:#fff}60%{color:transparent}99%{color:transparent}to{color:#fff}}@keyframes header-module--blink--WGiq7{0%{color:#fff}49%{color:#fff}60%{color:transparent}99%{color:transparent}to{color:#fff}}.footer-module--mainFooter--PRiGg{border-top:1px dashed red;margin-top:80px;padding-bottom:30px}.footer-module--footerContact--jLLSX p{color:hsla(0,0%,100%,.4);font-size:.9em;margin:0;padding:0}.projects-module--contentBlock--oKaUT,.videos-module--contentBlock--c-bCV,.writing-module--contentBlock--kn6ze{margin-bottom:40px;margin-top:20px}.projectslist-module--projectsList--Ueu26{margin:0;padding:0}.projectslist-module--projectsList--Ueu26 li{border-top:1px dotted hsla(0,0%,100%,.2);list-style-type:none;margin:0;padding:20px 0 0}.projectslist-module--projectsList--Ueu26 h3{margin:0;padding:0}.projectslist-module--projectsList--Ueu26 h4{color:hsla(0,0%,100%,.5);margin:5px 0 0}.writinglist-module--writingList--cBaye{margin:0;padding:0}.writinglist-module--writingList--cBaye li{border-top:1px dotted hsla(0,0%,100%,.2);list-style-type:none;margin:0;padding:20px 0 0}.writinglist-module--writingList--cBaye p:hover{cursor:default}.writinglist-module--writingList--cBaye h3{display:inline;margin:0;padding:0}.writinglist-module--writingList--cBaye time{color:hsla(0,0%,100%,.5);display:block}.writinglist-module--writingList--cBaye time:hover{cursor:default}.writinglist-module--breadcrumb--jZi2m{display:block;margin-bottom:23px}.writinglist-module--breadcrumbCurrent--TuGx9{color:hsla(0,0%,100%,.5)}.writinglist-module--writingPagination--Bg2TT{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center}.writinglist-module--writingPagination--Bg2TT a{margin-bottom:10px;margin-right:20px}.writinglist-module--writingPagination--Bg2TT a:last-child{margin-right:0}.writinglist-module--paginationDisabled--maPRd{display:none;pointer-events:none}.writinglist-module--paginationList--kZQ35{display:inline}.writinglist-module--paginationCurrent--MUZrz{border-bottom:none;color:#fff;text-decoration:none}.writinglist-module--pageNumber--lJjLh{cursor:pointer}.writing-post-module--frontMatter--txCfC{border-bottom:1px dotted hsla(0,0%,100%,.2);padding-bottom:5px}.writing-post-module--frontMatter--txCfC h1{font-size:1.8em}.writing-post-module--breadcrumb--pFEqN{display:block;margin-bottom:23px}.writing-post-module--breadcrumbCurrent--aQ8fG{color:hsla(0,0%,100%,.5)}h2,h3,h4{margin-top:50px}@media only screen and (min-width:768px){.writing-post-module--frontMatter--txCfC h1{font-size:2em}}</style><meta name="generator" content="Gatsby 4.4.0"/><title data-react-helmet="true">How to Add &lt;span&gt; Tags to Gatsbyjs Remark Content - malware.is</title><meta data-react-helmet="true" name="title" content="malware.is"/><meta data-react-helmet="true" name="description" content="InfoSec musings, research, tools."/><meta data-react-helmet="true" name="keywords" content="infosec, malware, security, cybersecurity, development, appsec"/><meta data-react-helmet="true" name="robots" content="index, follow"/><meta data-react-helmet="true" http-equiv="Content-Type" content="text/html; charset=utf-8"/><meta data-react-helmet="true" name="language" content="English"/><meta data-react-helmet="true" name="author" content="odacavo"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:site" content="@malware.is"/><meta data-react-helmet="true" name="twitter:creator" content="@odacavo"/><meta data-react-helmet="true" name="twitter:image" content="https://www.malware.is/images/global/malwareis_red.png"/><meta data-react-helmet="true" name="twitter:description" content="GatsbyJS is great, but I find it can be difficult to do simple things. The gatasby-remark-text-decoration plugin can configure decoration tags to Gatsby markdown and give more flexibility when styling content."/><meta data-react-helmet="true" name="twitter:title" content="How to Add &lt;span&gt; Tags to Gatsbyjs Remark Content"/><link as="script" rel="preload" href="/webpack-runtime-ce7451013ac2ca2ce5ed.js"/><link as="script" rel="preload" href="/framework-6a01f569bfd5e4536ba8.js"/><link as="script" rel="preload" href="/app-a1323a5599c4eb9dfc2d.js"/><link as="script" rel="preload" href="/commons-209be613022db9903e03.js"/><link as="script" rel="preload" href="/component---src-templates-writing-post-js-62a403b18a49c50335f2.js"/><link as="fetch" rel="preload" href="/page-data/writing/how-to-add-span-tags-to-gatsbyjs/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="mainContainer"><header class="header-module--mainHeader--5zoMT"><div><h1 class="header-module--mainLogo--ORTLO"><a href="/">malware.is</a><span class="header-module--blink--WGiq7">_</span></h1></div><nav><ul><li><a href="/">Home</a></li><li><a href="/writing">Writing</a></li><li><a href="/projects">Projects</a></li></ul></nav></header><article><span class="writing-post-module--breadcrumb--pFEqN"><a href="/writing">Writing</a> ‚Ä∫ <span class="writing-post-module--breadcrumbCurrent--aQ8fG">How to Add &lt;span&gt; Tags to Gatsbyjs Remark Content</span></span><div class="writing-post-module--frontMatter--txCfC"><h1>How to Add &lt;span&gt; Tags to Gatsbyjs Remark Content</h1><p>GatsbyJS is great, but I find it can be difficult to do simple things. The gatasby-remark-text-decoration plugin can configure decoration tags to Gatsby markdown and give more flexibility when styling content.</p><time>Jan 27, 2022<!-- --> ‚Ä¢ <!-- -->3<!-- --> min read</time><p>üè∑Ô∏è <span><a href="/writing/tags/gatsbyjs">gatsbyjs</a>, </span><span><a href="/writing/tags/development">development</a></span></p></div><div><p>GatsbyJS is an extremely powerful frontend framework. It makes it easy to build fast, secure, and headless content-driven websites - and is a fantastic choice for a blog like this. I was able to develop this site from the ground-up through react-based components and style it via CSS (I think I've got a cool minimal, terminal-like theme going here). I can write a post like this from just about anywhere using a simple <em>markdown</em> file and frontmatter key-value pairs.</p>
<p>When you're writing content in markdown, however, you may want to <code>highlight</code>, decorate, or style certain parts of the text. In my case, I wanted to create a "caption" span class that would allow me to center the text for captions under images. Sure, you can inject standard HTML tags in a markdown file and Gatsby will have no problem rendering it, but I wanted to keep things as simple as possible and keep everything strictly markdown.</p>
<p><span class='postImageCaption'>Like this!</span></p>
<deckgo-highlight-code language="html" terminal="carbon" theme="blackboard" line-numbers="true"  >
          <code slot="code">&lt;span class=&quot;postImageCaption&quot;&gt;Like this!&lt;/span&gt;</code>
        </deckgo-highlight-code>
<p>Markdown itself doesn't support HTML attributes like classes or IDs. Most markdown applications (like gatsby-transformer-remark) only support basic syntax <a href="https://www.markdownguide.org/basic-syntax/">as outlined here</a>, such as standard headings, paragraphs, line breaks, text-emphasis, etc. Because of this, I was in search for a Gatsby plugin that would allow me to inject custom classes into markdown files before being parsed and converted via <a href="https://www.gatsbyjs.com/plugins/gatsby-transformer-remark/">gatsby-transformer-remark</a>.</p>
<p>I came across a couple of plugins which seemed plausible, but upon investigation I found they were either too bloated, required too much code change, or just simply didn't work at first (my short attention span was far too tired to spend the night troubleshooting). Surely there must be something simple that can parse custom syntax and convert it to span tags on the front-end. And at last, in the far depths of Google's search results (page 2 or 3), I discovered the wonder of the <code>gatsby-remark-text-decoration</code> plugin. Specifically, I came across <a href="https://nodachisoft.com/common/en/article/en000109/">this blog post</a> from the developer, Amaji.</p>
<p><strong>npm package:</strong> <a href="https://www.npmjs.com/package/gatsby-remark-text-decoration">gatsby-remark-text-decoration</a></p>
<p>This plugin is quite self-explanatory. It allows you to add decoration tags to Gatsby markdown files to style text easily. The package README lists a great table of the built-in classes, and also explains how to add custom tags. I'll walk through installing the package and showing my implementation of it for center-aligned image captions.</p>
<h2>Installation</h2>
<p>The extension plugin can be installed using npm:</p>
<deckgo-highlight-code language="shell" terminal="carbon" theme="blackboard" line-numbers="true"  >
          <code slot="code">npm install gatsby-remark-text-decoration</code>
        </deckgo-highlight-code>
<p>The plugin then needs to be configured in <code>gatsby-config.js</code> as a nested plugin in the plugins array under <code>gatsby-transformer-remark</code>:</p>
<deckgo-highlight-code language="javascript" terminal="carbon" theme="blackboard" line-numbers="true"  >
          <code slot="code">plugins: [
  {
    resolve: &#39;gatsby-transformer-remark&#39;,
    options: {
      plugins: [
        {
          resolve: &#39;gatsby-remark-text-decoration&#39;,
          options: {
          }
        }
      ]
    }
  }
]</code>
        </deckgo-highlight-code>
<h2>Usage</h2>
<p>The plugin has a specific syntax to write decoration tags. There are quite a few options to play around with as noted in the documentation, but in my case I just wanted to add a custom span class to center certain paragraphs. First, I created a CSS class and added style attributes to center-align text. In my <code>global.css</code> file, I added the following:</p>
<deckgo-highlight-code language="css" terminal="carbon" theme="blackboard" line-numbers="true"  >
          <code slot="code">  .postImageCaption {
    text-align: center;
}</code>
        </deckgo-highlight-code>
<p>Simple enough! Next, I can just include the syntax in my markdown files wherever I want this class to be applied to. The syntax is also quite simple:</p>
<h3>Markdown Syntax:</h3>
<deckgo-highlight-code language="markdown" terminal="carbon" theme="blackboard" line-numbers="true"  >
          <code slot="code">{class-postImageCaption}Center me!{/}</code>
        </deckgo-highlight-code>
<h3>Converted HTML:</h3>
<deckgo-highlight-code language="html" terminal="carbon" theme="blackboard" line-numbers="true"  >
          <code slot="code">&lt;span class=&quot;postImageCaption&quot;&gt;Center me!&lt;/span&gt;</code>
        </deckgo-highlight-code>
<h3>Rendered HTML:</h3>
<p><span class='postImageCaption'>Center me!</span></p>
<p>And that's it! It's super simple, super quick to configure, but is surprisingly powerful by allowing you to insert custom classes and tags all from within markdown files. There's also even an option to use variables within the plugin options to allow for dynamic styles. I would encourage reading the <a href="https://www.npmjs.com/package/gatsby-remark-text-decoration">README</a> to get the full breadth of this plugin's capabilities. I'm sure I will find more uses for it down the road on this site.</p>
<p>Big thanks to Amaji for the plugin. I hope it helps others out there, should you come across this post in your search. You can find Amaji's Twitter here: <a href="https://twitter.com/NodachiSoft_jp">@NodachiSoft_jp</a></p>
<h2>References:</h2>
<ul>
<li><a href="https://www.npmjs.com/package/gatsby-remark-text-decoration">npmjs.com - gatsby-remark-text-decoration</a></li>
<li><a href="https://nodachisoft.com/common/en/article/en000109/">nodachisoft.com - Easily decorate markdown text in Gatsby</a></li>
<li><a href="https://www.markdownguide.org/basic-syntax/">markdownguide.org - Markdown Guidelines - Basic Syntax</a></li>
<li><a href="https://www.gatsbyjs.com/plugins/gatsby-transformer-remark/">gatsbyjs.com - gatsby-transformer-remark</a></li>
</ul></div></article><footer class="footer-module--mainFooter--PRiGg"><h2>whoami</h2><p>Security engineer, researcher, privacy advocate.</p><p>Links: <a href="https://twitter.com/odacavo" target="_blank" rel="noreferrer">Twitter</a> | <a href="https://github.com/odacavo" target="_blank" rel="noreferrer">GitHub</a></p></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/writing/how-to-add-span-tags-to-gatsbyjs";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-c9ca0462efb8ab6aa30b.js"],"app":["/app-a1323a5599c4eb9dfc2d.js"],"component---src-pages-404-js":["/component---src-pages-404-js-b6484ead418831984ee4.js"],"component---src-pages-a-js":["/component---src-pages-a-js-d45d024c57d7a69dcf6b.js"],"component---src-pages-index-js":["/component---src-pages-index-js-061d0308434709008f96.js"],"component---src-pages-projects-index-js":["/component---src-pages-projects-index-js-a016531931ce37faa691.js"],"component---src-pages-writing-tags-index-js":["/component---src-pages-writing-tags-index-js-1de0e4952a292f2759ba.js"],"component---src-templates-tag-js":["/component---src-templates-tag-js-8c25c029883d602153a9.js"],"component---src-templates-writing-post-js":["/component---src-templates-writing-post-js-62a403b18a49c50335f2.js"],"component---src-templates-writing-post-list-js":["/component---src-templates-writing-post-list-js-b4674c6eb8b13e20363a.js"]};/*]]>*/</script><script src="/polyfill-c9ca0462efb8ab6aa30b.js" nomodule=""></script><script src="/component---src-templates-writing-post-js-62a403b18a49c50335f2.js" async=""></script><script src="/commons-209be613022db9903e03.js" async=""></script><script src="/app-a1323a5599c4eb9dfc2d.js" async=""></script><script src="/framework-6a01f569bfd5e4536ba8.js" async=""></script><script src="/webpack-runtime-ce7451013ac2ca2ce5ed.js" async=""></script></body></html>