---
title: "How to Add <span> Tags to Gatsbyjs Remark Content"
date: "2022-01-27"
slug: "how-to-add-span-tags-to-gatsbyjs"

description: "GatsbyJS is great, but I find it can be difficult to do simple things. The gatasby-remark-text-decoration plugin can configure decoration tags to Gatsby markdown and give more flexibility when styling content."
tags: ["gatsbyjs", "development"]
---

GatsbyJS is an extremely powerful frontend framework. It makes it easy to build fast, secure, and headless content-driven websites - and is a fantastic choice for a blog like this. I was able to develop this site from the ground-up through react-based components and style it via CSS (I think I've got a cool minimal, terminal-like theme going here). I can write a post like this from just about anywhere using a simple *markdown* file and frontmatter key-value pairs.

When you're writing content in markdown, however, you may want to `highlight`, decorate, or style certain parts of the text. In my case, I wanted to create a "caption" span class that would allow me to center the text for captions under images. Sure, you can inject standard HTML tags in a markdown file and Gatsby will have no problem rendering it, but I wanted to keep things as simple as possible and keep everything strictly markdown.

{class-postImageCaption}Like this!{/}

```html
<span class="postImageCaption">Like this!</span>
```

Markdown itself doesn't support HTML attributes like classes or IDs. Most markdown applications (like gatsby-transformer-remark) only support basic syntax [as outlined here](https://www.markdownguide.org/basic-syntax/), such as standard headings, paragraphs, line breaks, text-emphasis, etc. Because of this, I was in search for a Gatsby plugin that would allow me to inject custom classes into markdown files before being parsed and converted via [gatsby-transformer-remark](https://www.gatsbyjs.com/plugins/gatsby-transformer-remark/).

I came across a couple of plugins which seemed plausible, but upon investigation I found they were either too bloated, required too much code change, or just simply didn't work at first (my short attention span was far too tired to spend the night troubleshooting). Surely there must be something simple that can parse custom syntax and convert it to span tags on the front-end. And at last, in the far depths of Google's search results (page 2 or 3), I discovered the wonder of the `gatsby-remark-text-decoration` plugin. Specifically, I came across [this blog post](https://nodachisoft.com/common/en/article/en000109/) from the developer, Amaji.

**npm package:** [gatsby-remark-text-decoration](https://www.npmjs.com/package/gatsby-remark-text-decoration)

This plugin is quite self-explanatory. It allows you to add decoration tags to Gatsby markdown files to style text easily. The package README lists a great table of the built-in classes, and also explains how to add custom tags. I'll walk through installing the package and showing my implementation of it for center-aligned image captions.

## Installation
The extension plugin can be installed using npm:

```shell
npm install gatsby-remark-text-decoration
```

The plugin then needs to be configured in `gatsby-config.js` as a nested plugin in the plugins array under `gatsby-transformer-remark`:

```javascript
plugins: [
  {
    resolve: 'gatsby-transformer-remark',
    options: {
      plugins: [
        {
          resolve: 'gatsby-remark-text-decoration',
          options: {
          }
        }
      ]
    }
  }
]
```

## Usage
The plugin has a specific syntax to write decoration tags. There are quite a few options to play around with as noted in the documentation, but in my case I just wanted to add a custom span class to center certain paragraphs. First, I created a CSS class and added style attributes to center-align text. In my `global.css` file, I added the following: 

```css
  .postImageCaption {
    text-align: center;
}
```

Simple enough! Next, I can just include the syntax in my markdown files wherever I want this class to be applied to. The syntax is also quite simple:

### Markdown Syntax:
```markdown
{class-postImageCaption}Center me!{/}
```

### Converted HTML:
```html
<span class="postImageCaption">Center me!</span>
```

### Rendered HTML:
{class-postImageCaption}Center me!{/}

And that's it! It's super simple, super quick to configure, but is surprisingly powerful by allowing you to insert custom classes and tags all from within markdown files. There's also even an option to use variables within the plugin options to allow for dynamic styles. I would encourage reading the [README](https://www.npmjs.com/package/gatsby-remark-text-decoration) to get the full breadth of this plugin's capabilities. I'm sure I will find more uses for it down the road on this site.

Big thanks to Amaji for the plugin. I hope it helps others out there, should you come across this post in your search. You can find Amaji's Twitter here: [@NodachiSoft_jp](https://twitter.com/NodachiSoft_jp)


## References:
- [npmjs.com - gatsby-remark-text-decoration](https://www.npmjs.com/package/gatsby-remark-text-decoration)
- [nodachisoft.com - Easily decorate markdown text in Gatsby](https://nodachisoft.com/common/en/article/en000109/)
- [markdownguide.org - Markdown Guidelines - Basic Syntax](https://www.markdownguide.org/basic-syntax/)
- [gatsbyjs.com - gatsby-transformer-remark](https://www.gatsbyjs.com/plugins/gatsby-transformer-remark/)