import React from 'react'
import { graphql, Link } from 'gatsby'

//Layout
import Main from "../../../layouts/Main.js"

//CSS
import * as styles from '../../../css/components/writing/writinglist.module.css'

//Components


export default function Tags({ data }) {
    const tags = data.allMarkdownRemark.distinct
    
    return (
        <Main>
            <h2>Tags</h2>
            <span className={styles.breadcrumb}><Link to="/writing">Writing</Link> &#8250; <span className={styles.breadcrumbCurrent}>Tags</span></span>
            <p>Sort by tag:</p>

            <p>{tags.map((tag, i) => [
                      <span key={i}><Link to={"/writing/tags/" + tag}>
                        {tag}
                        </Link>
                        {i < tags.length - 1 ? ', ' : ''}
                      </span>
                    ])}
            </p>

        </Main>
    )
}

export const query = graphql`
query Tags {
    allMarkdownRemark(filter: {fileAbsolutePath: {regex: "/(writing)/"}}) {
      nodes {
        id
      }
      distinct(field: frontmatter___tags)
    }
  }
  
`